(()=>{var e={863:(e,t,r)=>{const{once:o}=r(230),{showHit:n,showMiss:a,showLocations:s}=r(904),i=r(998);e.exports=()=>{let e=[],t=[],r=[];const o=[i("Patrol Boat",2),i("Submarine",3),i("Cruiser",3),i("Destroyer",4),i("Aircraft Carrier",5)];function s(){for(;r.length>0;)r.pop();o.map((e=>{let t=Math.floor(2*Math.random());if(e.coords=[],0===t){let t=0,o=e.hitpoints,n=Math.floor(10*Math.random()),a=Math.floor(10*Math.random());for(let s=0;s<o;s++)a+s>9?(t+=1,e.coords.push(JSON.stringify([n,a-t])),r.push(JSON.stringify([n,a-t]))):(e.coords.push(JSON.stringify([n,a+s])),r.push(JSON.stringify([n,a+s])));return e}{let t=0,o=e.hitpoints,n=Math.floor(10*Math.random()),a=Math.floor(10*Math.random());for(let s=0;s<o;s++)n+s>9?(t+=1,e.coords.push(JSON.stringify([n-t,a])),r.push(JSON.stringify([n-t,a]))):(e.coords.push(JSON.stringify([n+s,a])),r.push(JSON.stringify([n+s,a])));return e}}))}return{attackedSqs:t,ships:o,takenSpots:r,grid:e,createBoard:function(){for(let t=0;t<10;t++){let t=[];for(let e=0;e<10;e++)t.push(["","","","","","","","","",""]);e.push(t)}return e},receiveAttack:e=>{if(!t.includes(JSON.stringify(e))){let r=JSON.stringify(e);t.push(r);for(let t=0;t<o.length;t++){if(o[t].coords.some((t=>t[1]===e[1]&&t[3]===e[3])))return o[t].hit(r),n(e),void(o.every((e=>!0===e.isSunk()))&&alert("Game over!"));a(e)}}},placeShips:s,checkPositions:function(){let e=e=>e.filter(((t,r)=>e.indexOf(t)!=r));for(;e(r).length>0;)s()}}}},391:(e,t,r)=>{const o=r(863);e.exports=e=>{const t=o();return{playerBoard:t,playerShips:t.ships,attack:()=>{let e=document.querySelectorAll("#CPU-area > div");return e[Math.floor(Math.random()*e.length)].id}}}},998:e=>{e.exports=(e,t)=>{let r=[];return{name:e,hitpoints:t,coords:[],hits:r,isSunk:()=>t===r.length,hit:e=>{r.push(e)}}}},230:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},904:(e,t,r)=>{"use strict";r.r(t),r.d(t,{renderBoard:()=>u,showHit:()=>p,showLocations:()=>f,showMiss:()=>h});var o=r(863),n=r.n(o),a=r(391),s=r.n(a);r(998);const i=document.getElementById("new-game-btn"),l=s()("Player"),d=s()("Computer");i.addEventListener("click",(()=>{d.playerBoard.placeShips(),l.playerBoard.placeShips(),d.playerBoard.checkPositions(),l.playerBoard.checkPositions(),function(){let e=document.querySelectorAll("#play-area > div");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{d.playerBoard.receiveAttack(e[t].id),l.playerBoard.receiveAttack(d.attack())}))}(),f()})),document.getElementById("play-area");let c=n()().createBoard();function u(e,t){for(let r=0;r<c.length;r++)for(let o=0;o<c.length;o++){let n=document.createElement("div");n.className="square",n.id=JSON.stringify([r,o])+t,e.appendChild(n)}}function p(e){document.getElementById(e).style.backgroundColor="red"}function h(e){document.getElementById(e).style.backgroundColor="white"}function f(){let e=document.querySelectorAll("#CPU-area > div");for(let t=0;t<l.playerBoard.ships.length;t++)for(let r=0;r<e.length;r++)l.playerBoard.ships[t].coords.includes(e[r].id.slice(0,-1))&&(e[r].style.backgroundColor="gray")}}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=r(904);const t=document.getElementById("play-area"),o=document.getElementById("CPU-area");(0,e.renderBoard)(t,0),(0,e.renderBoard)(o,1)})()})();